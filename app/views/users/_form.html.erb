<div class="row">
    <h1>
        <%= title %>
    </h1>
    <%= render 'shared/errors', obj: @user %>
    <div>
        <%= form_for @user do |f| %>
            <div class="form-group">
                <%= f.label :email %>
                <%= f.text_field :email, class: "form-control" %>
            </div>
            <div class="form-group">
                <%= f.label :password %>
                <%= f.text_field :password, autocomplete: "off", hint: "leave it blank if you don't want to change it", required: false %>
            </div>
            <div class="form-group">
                <%= f.label :role %>
                <%= f.collection_select :role, ["none", "moderator", "admin"], :to_s, :humanize %> 
            </div>
            <div class='form-group'>
                <%= f.label "Products" %>
                <%= f.collection_check_boxes :product_ids, Product.all, :id, :name do |cb| %>
                    <% cb.label(class: "checkbox inline") {cb.check_box(class: "checkbox") + cb.text} %>
                <% end %>
            </div>
            <div class="form-group">
                <%= f.submit((@user.new_record? ? 'Create User' : 'Update User'), class: "btn btn-success") %>
            </div>
        <% end %>
    </div>
</div>

