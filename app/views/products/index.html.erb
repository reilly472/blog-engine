<div class="row">
    <h1>
        All Products
    </h1>
    <% if user_signed_in? %>
        <p>
            <%= link_to 'New Product', new_product_path, class: "btn btn-success" %>
        </p>
        <ul>
            <% @products.each do |product| %>
                <li class="snippet-view">
                    <strong>Product Name: </strong><%= link_to product.name, product_path(product) %>
                    <br/>
                    <strong>Downloads:</strong>
                    <ul>
                        <% product.downloads.each do |download| %>
                            <li>
                                <%= link_to download.name, download_path(download) %>
                            </li>
                        <% end %>
                    </ul>
                    <strong>Users:</strong>
                    <ul>
                        <% product.users.each do |user| %>
                            <li>
                                <%= link_to user.email, user_path(user) %>
                            </li>
                        <% end %>
                    </ul>
                    <br/>
                    <%= link_to 'Edit Product', edit_product_path(product), class: "btn btn-primary" %>
                    <%= link_to 'Delete Product', product_path(product), method: 'DELETE', class: "btn btn-danger", data: { confirm: "Are you sure you want to delete this?" } %>
                </li>
                <hr/>
            <% end %>
        </ul>
    <% end %>
</div>